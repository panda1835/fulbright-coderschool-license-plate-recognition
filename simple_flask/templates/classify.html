<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Motorbike License Plate Recognition</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="/static/style.css" type="text/css">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Motorbike License Plate Recognition Machine</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
      aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarText">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
        </li>
      </ul>
      <span class="navbar-text">
        This website template is adapted from CoderSchool's teaching material
      </span>
    </div>
  </nav>
  <div class="container-fluid">
    <div class="row">
      <div class="col image-prediction">
        <img class="pred_img" src="{{ url_for('send_file', filename=image_file_name)}}" />
      </div>
      <div class="col text-prediction">

        <h1 id="pred">
          Found {{number_of_plate}} license plates in this image
        </h1>

        <h1 class="box" id="label">
          {{ label }}
        </h1>

        <br>
        <a href="/" class="btn btn-primary">Back to Home</a>
      </div>
    </div>

    <div>
      
      <div class="col image-prediction">
        <h1>
          How it works
        </h1>
        <h1 id = "work">
          First, turn the image into grayscale
        </h1>
        <img src="{{ url_for('send_file', filename=blur)}}" />
        <h1 id = "work">
          Then binary threshold the image with cut-off = 150, 
          i.e. pixels with value < 150 turn black and pixels with value > 150 turn white</150>  
        </h1>
        <img src="{{ url_for('send_file', filename=thresh)}}" />
        <h1 id = "work">
          Next, find bounding rectangle of continuous regions in the image, and choose rectangles that have the 
          shape of a motorbike license plate
        </h1>
        <img src="{{ url_for('send_file', filename=plates_first)}}" />
        <h1 id = "work">
          Next, decide license plate, which has numbers inside. 
        </h1>
        <img src="{{ url_for('send_file', filename=bound_numbers)}}" />
        <h1 id = "work">
          Finally, recognize the numbers and letter using Support Vector Machine (SVM) algorithm
        </h1>
        <img src="{{ url_for('send_file', filename=predictions)}}" />
      </div>

    </div>

  </div>
  <script src="/static/script.js"></script>
</body>

</html>